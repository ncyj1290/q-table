
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{common/layouts/defaultLayout}">
	
	<head>
	    <title>예약 목록</title>
	    <link rel="stylesheet" th:href="@{/css/storeManagement/commonStoreManagement.css}">
		<link rel="stylesheet" th:href="@{/css/storeManagement/storeReservationList.css}">
	</head>
	
	<body>
		
		<div layout:fragment="Content">
			
			<br>
			
			<div class="root-layout">
				
				<!-- Store Management Side Bar -->
				<div th:replace="storeManagement/storeProfile :: storeProfile"></div>
				
				<!-- 메인 컨텐츠 담는 DIV -->
				<div class="sub-layout">
					
					<div class="row-component">
						<h3>예약 목록</h3>	
					</div>

					<div class="filter-button-layout" th:with="currFilter=${filter}">
						<b>목록 필터</b>
						<button th:class="${(currFilter == null or currFilter == '')} ? 'positive-button' : 'negative-button'" th:onclick="|location.href='@{/store_reservation_list(pageNum=1)}'|">전체</button>	
						<button th:each="rcode, i : ${resvList}" th:text="${rcode.code_label}" th:class="${(currFilter == rcode.code) ? 'positive-button' : 'negative-button'}" th:onclick="|location.href='@{/store_reservation_list(filter=${rcode.code})}'|"></button>
					</div>
					
					<!-- 목록 배치 레이아웃 -->
					<div class="list-layout">
						
						<!-- 리스트 항목 안내 태그 -->
						<div class="element-row" style="background-color: var(--color-main); color: white;">
							<label class="label-num-size"><b>번호</b></label>
							<label class="label-id-size"><b>예약자 ID</b></label>
							<label class="label-id-size"><b>예약자 이름</b></label>
							<label class="label-date-size"><b>예약 날짜</b></label>
							<label class="label-time-size"><b>예약 시간</b></label>
							<label class="label-result-size"><b>예약 결과</b></label>
						</div>

						<a th:href="@{/store_reservation_detail(reserve_idx=${res.reserve_idx})}" class="element-row" th:each="res, i : ${reservationList}">
							<b class="label-num-size" th:text="${i.count}">1</b>
							<b class="label-id-size" th:text="${res.member_id}"></b>
							<b class="label-id-size" th:text="${res.reserve_name}"></b>
							<b class="label-date-size" th:text="${res.reserve_date}"></b>
							<b class="label-time-size" th:text="${res.reserve_time}"></b>
							<b class="label-result-size" th:text="${res.result_label}"></b>
						</a>

					</div>
					
					<!-- 페이지네이션 셀렉터 -->
					<div class="page-selector-layout" 
					th:with="curr=${pageVo.pageNum}, prev=${pageVo.pageNum - 1}, next=${pageVo.pageNum + 1}, start=${pageVo.startPage}, end=${pageVo.endPage}, max=${pageVo.maxPage}, currFilter=${filter}" >
					  <!-- 이전 -->
					  <button class="page-selector" th:onclick="|location.href='@{/store_reservation_list(pageNum=${prev}, filter=${currFilter})}'|" th:disabled="${curr <= 1}">&lt;</button>
					  <!-- 페이지 번호들 -->
					  <button class="page-selector" th:each="p : ${#numbers.sequence(start, end)}" th:text="${p}" th:onclick="|location.href='@{/store_reservation_list(pageNum=${p}, filter=${currFilter})}'|"  th:classappend="${p == curr} ? ' active' : ''"></button>
					  <!-- 다음 -->
					  <button class="page-selector" th:onclick="|location.href='@{/store_reservation_list(pageNum=${next}, filter=${currFilter})}'|" th:disabled="${curr >= max}">&gt;</button>
					</div>

				</div>
				<!-- 메인 컨텐츠 Layout End -->
				
			</div>

		</div>		
	
	</body>
	
</html>