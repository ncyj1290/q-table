<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{common/layouts/defaultLayout}">
<head>
    <title>현장 결제 페이지</title>
    <link rel="stylesheet" th:href="@{/css/payment/onSitePayment.css}">
    <script th:src="@{/js/payment/onSitePayment.js}"></script>
</head>
<body>
<div layout:fragment="Content">
	<div class="form-box">
		<h1>결제 화면</h1>
		
		<!-- 식당 정보 섹션 -->
		<div class="store-info-section">
			<div class="store-image">
				<img th:src="@{${storeImage}}" alt="매장 이미지">
			</div>
			<div class="store-details">
				<div class="info-row">
					<span class="label">매장명</span>
					<span class="value" th:text="${store.store_name}"></span>
				</div>
				<div class="info-row">
					<span class="label">날짜</span>
					<span class="value" th:text="${reservation.reserve_date}"></span>
				</div>
				<div class="info-row">
					<span class="label">시간</span>
					<span class="value" th:text="${reservation.reserve_time}"></span>
				</div>
			</div>
		</div>
		
		<div class="horizontal-line"></div>
		
		<!-- 결제 금액 입력 섹션 -->
		<div class="amount-input-section">
			<div class="amount-input-row">
				<span class="amount-label">금액 입력란</span>
				<div class="amount-input-container">
					<input type="text" class="component-write" placeholder="금액을 입력하세요" maxlength="10">
					<span class="currency">원</span>
				</div>
			</div>
		</div>
		
		<!-- 결제 정보 섹션 -->
		<div class="payment-info-section">
			<div class="payment-details">
				<div class="info-row">
					<div class="top-row">
						<span class="label">입력금액</span>
						<span class="value" id="inputAmountDisplay">0 원</span>
					</div>
				</div>
				<div class="info-row">
					<div class="top-row">
						<span class="label">Q-money 결제할인</span>
						<span class="value" id="discountDisplay">- 0 원</span>
					</div>
					<span class="sale-info">주문금액의 5% 할인적용</span>
				</div>
				<div class="info-row">
					<div class="top-row">
						<span class="label">선납 예약금</span>
						<span class="value" id="depositDisplay" th:text="'- ' + ${#numbers.formatInteger(store.deposit * reservation.person_count, 0, 'COMMA')} + ' 원'"></span>
					</div>
				</div>
			</div>
		</div>
		
		<div class="horizontal-line"></div>
		
		<!-- 최종 결제 정보 섹션 -->
		<div class="final-amount-section">
			<div class="final-amount-row">
				<span class="final-label">최종 결제 금액</span>
				<span class="final-value" id="finalAmountDisplay">0 원</span>
			</div>
		</div>

		<div class="qmoney-info-section">
			<div class="qmoney-row">
				<span class="qmoney-label">현재 회원님의 Q-money</span>
				<span class="qmoney-value" id="currentQMoneyDisplay" th:text="${#numbers.formatInteger(qMoney, 0, 'COMMA')} + ' 원'"></span>
			</div>
			<div class="qmoney-row">
				<span class="qmoney-label">결제 후 회원 님의 Q-money</span>
				<span class="qmoney-value" id="afterQMoneyDisplay" th:text="${#numbers.formatInteger(qMoney, 0, 'COMMA')} + ' 원'"></span>
			</div>
		</div>

		<div class="payment-button-section">
			<button class="positive-button payment-btn">결제 하기</button>
		</div>
	</div>
</div>
</body>
</html>